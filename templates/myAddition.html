<!DOCTYPE html>
<html>
<head>
    <title>Stray Home</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='styles.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@10"></script> <!-- Include SweetAlert library here -->
</head>  
<body>
    <div class="container">
        <div class="header">
            <a href="{{ url_for('homepage') }}">
                <img src="{{ url_for('static', filename='photo/home.png') }}" alt="Home">
            </a>
            <a href="{{ url_for('addition') }}">ADD PET</a>
            <a href="{{ url_for('myAddition') }}">MY ADDITION</a>
            <a href="{{ url_for('statusUser') }}">STATUS</a>
            {% if session.get('name') %}
                <a href="{{ url_for('myprofile') }}">Welcome, {{ session['name'] }}!</a>                
                <a href="{{ url_for('logout') }}">Logout</a>
            {% else %}
                <a href="{{ url_for('login') }}">Login</a>
            {% endif %}        
        </div>
        <div class="welcome">
            <img src="{{ url_for('static', filename='photo/startpage.jpg') }}" alt="Welcome Image">
        </div>
        <div class="text-box">
            <h2>STRAY HOME</h2>
        </div>
        <div class="stary-pets-label">ALL STRAY PETS</div>

        <div class="pet-list">
            {% for pet in pets %}
            <div class="pet-card">
                <img src="{{ pet.image_url }}" alt="{{ pet.name }} Image">
                <p>{{ pet.name }} {% if pet.gender == 'female' %}&female;{% else %}&male;{% endif %}</p>
            </div>
            {% endfor %}
        </div>
    </div>

    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        {% for category, message in messages %}
        <script>
          if ('{{ category }}' == 'success') {
            Swal.fire({
              icon: 'success',
              title: '{{ message }}',
              showConfirmButton: true
            })

          } else if ('{{ category }}' == 'error') {
            Swal.fire({
              icon: 'error',
              title: '{{ message }}',
              showConfirmButton: true
            })

          } else if ('{{ category }}' == 'info') {
    Swal.fire({
        icon: 'info',
        title: '{{ message }}',
        showConfirmButton: true
    }).then((result) => {
        if (result.isConfirmed) {
            window.location.href = "{{ url_for('login') }}";
        }
    })
}
          
        </script>
        {% endfor %}
    {% endif %}
    {% endwith %}

</body>
</html>
